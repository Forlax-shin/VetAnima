<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VetAnimative | Professional Admin System</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <style>
        body { background: #f0f2f5; font-family: 'Quicksand', sans-serif; margin: 0; }
        #login-section { height: 100vh; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #6c5ce7, #a29bfe); }
        .login-card { background: white; padding: 40px; border-radius: 25px; box-shadow: 0 15px 35px rgba(0,0,0,0.2); width: 100%; max-width: 380px; text-align: center; }
        #admin-dashboard { display: none; min-height: 100vh; }
        .sidebar { width: 280px; background: #1a1a1a; color: white; padding: 30px 20px; position: fixed; height: 100%; overflow-y: auto; box-sizing: border-box; }
        .sidebar-logo { margin-bottom: 40px; color: var(--secondary); text-align: center; font-size: 1.4rem; border-bottom: 1px solid #333; padding-bottom: 20px; font-weight: bold; }
        .sidebar li { padding: 15px; border-radius: 12px; cursor: pointer; transition: 0.3s; list-style: none; margin-bottom: 8px; display: flex; align-items: center; gap: 12px; }
        .sidebar li:hover, .sidebar li.active { background: var(--primary); color: white; }
        .main-content { flex: 1; margin-left: 280px; padding: 40px; box-sizing: border-box; }
        .stat-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .stat-card { background: white; padding: 25px; border-radius: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); border-left: 5px solid var(--primary); }
        .stat-card h3 { color: #777; font-size: 0.9rem; margin-bottom: 10px; margin-top: 0; }
        .stat-card .value { font-size: 1.6rem; font-weight: 700; color: var(--primary); }
        .editor-card { background: white; padding: 30px; border-radius: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); margin-bottom: 30px; }
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .input-group { margin-bottom: 15px; }
        .input-group label { display: block; margin-bottom: 5px; font-weight: 600; font-size: 0.85rem; color: #555; }
        .input-full { width: 100%; padding: 12px; border: 1px solid #eee; border-radius: 10px; box-sizing: border-box; font-family: inherit; }
        .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); border: 0; }
        .list-row { display: flex; justify-content: space-between; align-items: center; padding: 15px; border-bottom: 1px solid #f9f9f9; background: #fff; border-radius: 12px; margin-bottom: 10px; transition: 0.2s; }
        .btn-delete { color: #ff4757; border: none; background: #fff1f2; padding: 10px; border-radius: 8px; cursor: pointer; transition: 0.3s; }
    </style>
</head>
<body>

    <main>
        <section id="login-section">
            <div class="login-card">
                <h1 style="margin-top:0; font-size: 1.8rem;">Admin <span class="text-secondary">Login</span></h1>
                <p style="color:#777; font-size:0.9rem">Manage your clinic data</p>
                <div style="margin-top: 20px;">
                    <label for="user" class="sr-only">Username</label>
                    <input type="text" id="user" class="input-full" style="margin-bottom:15px" placeholder="Username">
                    
                    <label for="pass" class="sr-only">Password</label>
                    <input type="password" id="pass" class="input-full" style="margin-bottom:20px" placeholder="Password">
                    
                    <button class="btn btn-primary" style="width:100%;" onclick="handleLogin()">Login to Dashboard</button>
                    <button class="btn" style="width:100%; margin-top:12px; background:#f8f9fa" onclick="handleSignup()">Create New Admin Account</button>
                    <p id="auth-error" style="color:red; font-size:0.8rem; margin-top:15px; display:none;">Invalid Credentials!</p>
                </div>
            </div>
        </section>

        <div id="admin-dashboard">
            <aside class="sidebar">
                <div class="sidebar-logo">Vet<span>Animative</span></div>
                <nav aria-label="Main Navigation">
                    <ul style="padding:0">
                        <li class="nav-item active" onclick="switchTab('stats', this)"><i class="fas fa-chart-line"></i> Income & Stats</li>
                        <li class="nav-item" onclick="switchTab('blog', this)"><i class="fas fa-newspaper"></i> Blog Articles</li>
                        <li class="nav-item" onclick="switchTab('team', this)"><i class="fas fa-users"></i> Team & Doctors</li>
                        <li class="nav-item" onclick="switchTab('catalog', this)"><i class="fas fa-shopping-bag"></i> Shop & Services</li>
                        <li class="nav-item" onclick="switchTab('gallery', this)"><i class="fas fa-images"></i> Gallery Feed</li>
                        <li onclick="logout()" style="margin-top:40px; color:#ff4757;"><i class="fas fa-sign-out-alt"></i> Logout</li>
                    </ul>
                </nav>
            </aside>

            <article class="main-content">
                <h2 id="tab-title" style="margin-top:0; margin-bottom:30px;">Dashboard Overview</h2>

                <div id="pane-stats" class="tab-pane">
                    <div class="stat-grid">
                        <div class="stat-card"><h3>Januari 2026</h3><div class="value">IDR 12.500.000</div></div>
                        <div class="stat-card"><h3>Februari 2026</h3><div class="value">IDR 18.200.000</div></div>
                        <div class="stat-card" style="border-color: var(--secondary);"><h3>Target Bulanan</h3><div class="value">IDR 25.000.000</div></div>
                    </div>
                    <section class="editor-card">
                        <h3>Real-time Income Summary</h3>
                        <p style="color:#666">Total pendapatan terakumulasi bulan ini:</p>
                        <p class="text-secondary" id="realtime-income" style="font-size:3rem; margin:10px 0; font-weight: bold;">IDR 0</p>
                    </section>
                </div>

                <div id="form-container" style="display:none">
                    <section class="editor-card">
                        <h3 id="form-title">Add New Data</h3>
                        <div id="fields-area" class="form-grid"></div>
                        <button class="btn btn-primary" style="margin-top:25px; padding: 12px 30px;" onclick="saveData()"><i class="fas fa-save"></i> Save to Website</button>
                    </section>

                    <section class="editor-card">
                        <h3 id="list-title">Existing Records</h3>
                        <div id="data-list" class="data-list"></div>
                    </section>
                </div>
            </article>
        </div>
    </main>

    <script>
        // Logika JS tetap sama seperti kode Anda sebelumnya
        const schema = {
            blog: { title: "Blog Articles", fields: [ { id: 'cat', label: 'Kategori', type: 'text', placeholder: 'Health / Daily / Tips' }, { id: 'title', label: 'Judul Artikel', type: 'text', placeholder: 'Judul...' }, { id: 'img', label: 'Image URL', type: 'text', placeholder: 'https://...' }, { id: 'content', label: 'Konten', type: 'textarea', placeholder: 'Isi blog...' } ] },
            team: { title: "Our Team", fields: [ { id: 'name', label: 'Nama Lengkap', type: 'text', placeholder: 'Dr. Alexander...' }, { id: 'job', label: 'Jabatan', type: 'text', placeholder: 'Surgeon' }, { id: 'exp', label: 'Pengalaman', type: 'number', placeholder: '5' }, { id: 'spec', label: 'Spesialisasi', type: 'text', placeholder: 'Exotic Pets' }, { id: 'img', label: 'Foto URL', type: 'text', placeholder: 'https://...' }, { id: 'desc', label: 'Deskripsi', type: 'textarea', placeholder: 'Lulusan...' } ] },
            catalog: { title: "Product & Services", fields: [ { id: 'type', label: 'Tipe', type: 'select', options: ['service', 'product'] }, { id: 'cat', label: 'Kategori', type: 'text', placeholder: 'Food' }, { id: 'name', label: 'Nama Item', type: 'text', placeholder: 'Produk...' }, { id: 'price', label: 'Harga', type: 'number', placeholder: '50000' }, { id: 'img', label: 'Foto URL', type: 'text', placeholder: 'https://...' }, { id: 'desc', label: 'Deskripsi', type: 'textarea', placeholder: 'Detail...' } ] },
            gallery: { title: "Gallery Feed", fields: [ { id: 'img', label: 'Foto URL', type: 'text', placeholder: 'https://...' }, { id: 'caption', label: 'Caption', type: 'text', placeholder: 'Aktivitas...' }, { id: 'date', label: 'Tanggal', type: 'text', placeholder: 'Jan 2026' } ] }
        };

        let currentTab = 'stats';

        function handleLogin() {
            const u = document.getElementById('user').value;
            const p = document.getElementById('pass').value;
            const accounts = JSON.parse(localStorage.getItem('adminAccounts')) || [{user:'admin', pass:'admin'}];
            if(accounts.find(a => a.user === u && a.pass === p)) {
                sessionStorage.setItem('isAdmin', 'true');
                location.reload();
            } else { document.getElementById('auth-error').style.display = 'block'; }
        }

        function handleSignup() {
            let accounts = JSON.parse(localStorage.getItem('adminAccounts')) || [{user:'admin', pass:'admin'}];
            if(accounts.length >= 6) return alert("Maks 6 akun!");
            const u = prompt("Username baru:");
            const p = prompt("Password baru:");
            if(u && p) {
                accounts.push({user:u, pass:p});
                localStorage.setItem('adminAccounts', JSON.stringify(accounts));
                alert("Berhasil!");
            }
        }

        function logout() { sessionStorage.clear(); location.reload(); }

        function switchTab(tab, el) {
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            if(el) el.classList.add('active');
            currentTab = tab;
            if(tab === 'stats') {
                document.getElementById('pane-stats').style.display = 'block';
                document.getElementById('form-container').style.display = 'none';
                document.getElementById('tab-title').innerText = "Income Statistics";
                calculateIncome();
            } else {
                document.getElementById('pane-stats').style.display = 'none';
                document.getElementById('form-container').style.display = 'block';
                document.getElementById('tab-title').innerText = schema[tab].title;
                renderForm(tab);
                renderList(tab);
            }
        }

        function renderForm(tab) {
            const container = document.getElementById('fields-area');
            container.innerHTML = "";
            schema[tab].fields.forEach(f => {
                const group = document.createElement('div');
                group.className = f.type === 'textarea' ? '' : 'input-group';
                if(f.type === 'textarea') group.style.gridColumn = "span 2";
                group.innerHTML = `<label for="f-${f.id}">${f.label}</label>`;
                if(f.type === 'textarea') group.innerHTML += `<textarea id="f-${f.id}" class="input-full" placeholder="${f.placeholder}"></textarea>`;
                else if(f.type === 'select') {
                    let opts = f.options.map(o => `<option value="${o}">${o}</option>`).join('');
                    group.innerHTML += `<select id="f-${f.id}" class="input-full">${opts}</select>`;
                } else group.innerHTML += `<input type="${f.type}" id="f-${f.id}" class="input-full" placeholder="${f.placeholder}">`;
                container.appendChild(group);
            });
        }

        function saveData() {
            let data = JSON.parse(localStorage.getItem('db_' + currentTab)) || [];
            let item = { id: Date.now() };
            schema[currentTab].fields.forEach(f => { item[f.id] = document.getElementById('f-' + f.id).value; });
            data.push(item);
            localStorage.setItem('db_' + currentTab, JSON.stringify(data));
            alert("Disimpan!");
            renderList(currentTab);
            schema[currentTab].fields.forEach(f => document.getElementById('f-' + f.id).value = "");
        }

        function renderList(tab) {
            const list = JSON.parse(localStorage.getItem('db_' + tab)) || [];
            const container = document.getElementById('data-list');
            if(list.length === 0) { container.innerHTML = "<p style='text-align:center;'>Belum ada data.</p>"; return; }
            container.innerHTML = list.map((item, idx) => `
                <div class="list-row">
                    <div style="display:flex; align-items:center; gap:15px">
                        <img src="${item.img || 'https://via.placeholder.com/50'}" alt="Data preview" style="width:50px; height:50px; object-fit:cover; border-radius:8px;">
                        <div>
                            <strong>${item.name || item.title || item.caption}</strong>
                            <small style="display:block; color:#777">${item.cat || item.job || item.date || ''}</small>
                        </div>
                    </div>
                    <button class="btn-delete" onclick="deleteItem('${tab}', ${idx})" aria-label="Delete item"><i class="fas fa-trash"></i></button>
                </div>`).join('');
        }

        function deleteItem(tab, idx) {
            if(!confirm("Hapus?")) return;
            let data = JSON.parse(localStorage.getItem('db_' + tab));
            data.splice(idx, 1);
            localStorage.setItem('db_' + tab, JSON.stringify(data));
            renderList(tab);
        }

        function calculateIncome() {
            const income = localStorage.getItem('totalIncome') || "24500000";
            document.getElementById('realtime-income').innerText = "IDR " + parseInt(income).toLocaleString();
        }

        window.onload = () => {
            if(sessionStorage.getItem('isAdmin') === 'true') {
                document.getElementById('login-section').style.display = 'none';
                document.getElementById('admin-dashboard').style.display = 'flex';
                switchTab('stats');
            }
        };
    </script>
</body>
</html>